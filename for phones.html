<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>زاوية السناكس</title>
        <link rel="icon" type="image/png" href="img/apple.jpg">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
            direction: rtl;
        }

        .container {
            width: 85%;
            margin: 0 auto;
            text-align: center;
        }

        .categories {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .category {
            background-color: #fff;
            padding: 12px 25px;
            border: 2px solid #007bff;
            border-radius: 50px;
            font-size: 16px;
            color: #007bff;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
        }


        .category:hover {
            background-color: #007bff;
            color: #fff;
        }



        .book-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }

        .book {
            width: 250px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 15px;
            text-align: center;
        }

        .book img {
            max-width: 200px;
            height: 200px;
            object-fit: contain;
        }

        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            padding: 30px;
            z-index: 1000;
            text-align: center;
        }

        .storage-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .storage-option {
            border: 2px solid #007bff;
            border-radius: 10px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .storage-option.selected {
            background-color: #007bff;
            color: white;
        }

        .product-counter {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }

        .btn {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            background-color: #007bff;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }

        .delete-item {
            color: red;
            cursor: pointer;
            margin-right: 10px;
        }

        .button1 {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #007bff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .button:hover {
            background-color: #0056b3;
        }

        @media (max-width: 600px) {
            .book {
                width: 100%;
            }
        }

        /* New styles for custom alerts and confirmation modal */
        .custom-alert {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            padding: 15px;
            display: flex;
            align-items: center;
            max-width: 400px;
            z-index: 1100;
            transition: opacity 0.5s ease;
        }

        .custom-alert.fade-out {
            opacity: 0;
        }

        .custom-alert-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .custom-alert-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .alert-success .custom-alert-icon {
            background-color: #28a745;
            color: white;
        }

        .alert-warning .custom-alert-icon {
            background-color: #ffc107;
            color: black;
        }

        .alert-error .custom-alert-icon {
            background-color: #dc3545;
            color: white;
        }

        .custom-alert-close {
            margin-right: 15px;
            cursor: pointer;
            font-size: 20px;
            color: #888;
        }

        .confirmation-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1200;
        }

        .confirmation-modal {
            background-color: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .confirmation-header {
            text-align: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }

        .confirmation-body {
            padding: 20px 0;
            text-align: center;
        }

        .confirmation-footer {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .confirmation-footer button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .btn-cancel {
            background-color: #6c757d;
            color: white;
        }

        .btn-confirm {
            background-color: #007bff;
            color: white;
        }

        .btn-cancel:hover {
            background-color: #5a6268;
        }

        .btn-confirm:hover {
            background-color: #0056b3;
        }
    </style>


    <style>
.star {
  font-size: 24px;
  color: #ddd;
}
.star.filled {
  color: gold;
}
#rating-buttons button {
  font-size: 18px;
  margin: 2px;
  cursor: pointer;
}

        .product-img {
  width: 150px;        /* العرض الموحد */
  height: 150px;       /* الطول الموحد */
  object-fit: cover;   /* يجعل الصورة تغطي الإطار بدون تشويه */
  border-radius: 8px;  /* شكل دائري خفيف للحواف (اختياري) */
}



.filter-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.tag-category {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 30px;
}

.tag-category .tag {
    padding: 8px 16px;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    color: white;
    font-weight: bold;
    transition: all 0.3s ease;
}

.tag-category .tag:nth-child(1) {
    background-color: #e74c3c; /* حار - أحمر */
}
.tag-category .tag:nth-child(2) {
    background-color: #27ae60; /* نباتي - أخضر */
}
.tag-category .tag:nth-child(3) {
    background-color: #3498db; /* جديد - أزرق */
}
.tag-category .tag:nth-child(4) {
    background-color: #f1c40f; /* الأفضل - أصفر */
    color: black;
}
.tag-category .tag:nth-child(5) {
    background-color: #9b59b6; /* إضافة لون إضافي */
}

.tag-category .tag:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.tag-category .tag.active {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
}

.product-card {
    border: 1px solid #eee;
    border-radius: 10px;
    padding: 15px;
    transition: all 0.3s ease;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.product-tag {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 12px;
    margin-right: 5px;
    color: white;
}

.product-tag.hot {
    background-color: #e74c3c;
}
.product-tag.veg {
    background-color: #27ae60;
}
.product-tag.vag {
    background-color: #99ff99;
}
.product-tag.best {
    background-color: #f1c40f;
    color: black;
}
.tag-category {
    display: flex;
    justify-content: center; /* توسيط أفقي */
    gap: 10px; /* مسافة بين الأزرار */
    margin: 20px 0; /* مسافة فوق وتحت */
    flex-wrap: wrap; /* للسماح بالانتقال لسطر جديد عند الحاجة */
}
.store-name {
    font-family: 'Tajawal', sans-serif;
    font-size: 2.5rem;
    font-weight: bold;
    text-align: center;
    color: #333;
    margin: 20px 0;
}



</style>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1 class="store-name">زاوية apple</h1>
<div style="display: flex; justify-content: center; align-items: center; width: 100%;">

  <!-- الصورة -->
  <img src="img/apple.jpg" alt="بطاطه" width="200" style="border-radius: 10px; margin-right: 20px;">

  <!-- النص (بداخل <pre>) -->




<script>
  function addRating(rating) {
    // تغيير النجوم بناءً على التقييم
    document.getElementById("average-rating-stars").textContent = '★'.repeat(rating);
    document.getElementById("average-rating-text").textContent = `التقييم: ${rating} من 5`;

    // إظهار رسالة الشكر بعد التقييم
    var message = document.getElementById("thank-you-message");
    message.style.display = 'block';

    // إخفاء رسالة الشكر بعد 3 ثوانٍ
    setTimeout(() => {
      message.style.display = 'none';
    }, 3000);
  }
</script>

<style>
  /* تأثير تفاعل الأزرار */
  button:hover {
    background-color: #49a3d3;
    transform: scale(1.1);
  }

  /* تأثير التفاعل مع التقييم العام */
  #average-rating-stars {
    font-size: 30px;
    color: #f39c12;
  }

  /* التأثير عند إظهار رسالة الشكر */
  #thank-you-message {
    opacity: 1;
  }
</style>


</div>

<br><br><br><br><br>

<div class="categories">
    <div class="category" onclick="filterProducts('الكل')">الكل</div>
    <div class="category" onclick="filterProducts('iphone')">iphone</div>
    <div class="category" onclick="filterProducts('mac')">mac</div>
    <div class="category" onclick="filterProducts('ipad')">ipad</div>

</div>


        <div class="book-list" id="product-list">
            <!-- iPhone Products -->
            <div class="book iphone" data-name="📱iphone 16 pro" data-category="iphone"  >
                <img src="img/iPhone-15-Pro.jpg" class="product-img"  alt="📱iphone 16 pro">

                <h3>📱iphone 16 pro</h3>
                <p>السعر: 900 JD</p>
   <button class="button" onclick="showProductDetails('📱iphone 16 pro', 'img/iPhone-15-Pro.jpg', {'256gb': 1100, '128gb': 900}, ['256gb', '128gb'])">                    عرض التفاصيل
                </button>



            </div>

                 <div class="book mac" data-name="mac" data-category="mac">
    <div class="snk" data-name="mac">
        <img src="img/macbook air 15.jpg" class="product-img" alt="mac">

        <h3>💻 MacBook Air 15″(M4)</h3>
        <p>السعر: 1090 JD</p>
   <button class="button" onclick="showProductDetails('💻 MacBook Air 15″(M4)', 'img/macbook air 15.jpg', {'256gb': 1090, '512gb': 1399}, ['256gb', '512gb'])">                    عرض التفاصيل

        </button>
    </div>
                 </div>


            <div class="book mac" data-name="mac" data-category="mac">
    <div class="snk" data-name="mac">
        <img src="img/macbook air 13.jpeg" class="product-img" alt="mac">
        <p>16GB RAM </p>
        <h3>💻 MacBook Air 13"(M4)</h3>
        <p>السعر: 875 JD</p>
   <button class="button" onclick="showProductDetails('💻 MacBook Air 13 (Apple M4)', 'img/macbook air 13.jpeg', {'256gb': 875, '512gb': 1049}, ['256gb', '512gb'])">                    عرض التفاصيل

        </button>
    </div>
                 </div>





                        <div class="book mac" data-name="mac" data-category="mac">
    <div class="snk" data-name="mac">
        <img src="img/macbook air m3.jpg" class="product-img" alt="mec">
        <p>16GB RAM </p>
        <h3>💻 MacBook Air 13"(M3)</h3>
        <p>السعر: 849 JD</p>
   <button class="button" onclick="showProductDetails('💻 MacBook Air 13″(M3)', 'img/macbook air m3.jpg', {'256gb': 799, '512gb': 849}, ['256gb', '512gb'])">                    عرض التفاصيل

        </button>
    </div>
                 </div>

                        <div class="book iphone" data-name="iphone" data-category="iphone">
    <div class="snk" data-name="iphone">
        <img src="img/iphone 16 e.jpg" class="product-img" alt="iphone">

        <h3>📱 iPhone 16e</h3>
        <p>السعر: 599 JD</p>
   <button class="button" onclick="showProductDetails('📱 iPhone 16e', 'img/iphone 16 e.jpg', {'256gb': 699, '128gb': 599}, ['256gb', '128gb'])">                    عرض التفاصيل

        </button>
    </div>
                 </div>

                        <div class="book iphone" data-name="iphone" data-category="iphone">
    <div class="snk" data-name="iphone">
        <img src="img/iphone-16.png" class="product-img" alt="iphone">

        <h3>📱 iPhone 16</h3>
        <p>السعر: 649 JD</p>
   <button class="button" onclick="showProductDetails('📱 iPhone 16', 'img/iphone-16.png', {'256gb': 740, '128gb': 649}, ['256gb', '128gb'])">                    عرض التفاصيل

        </button>
    </div>
                 </div>
                        <div class="book iphone" data-name="iphone" data-category="iphone">
    <div class="snk" data-name="iphone">
        <img src="img/iphone 16 pro.webp" class="product-img" alt="iphone">

        <h3>📱 iPhone 16 Pro</h3>
        <p>السعر: 799 JD</p>
   <button class="button" onclick="showProductDetails('📱 iPhone 16 Pro', 'img/iphone 16 pro.webp', {'256gb': 930, '128gb': 799}, ['256gb', '128gb'])">                    عرض التفاصيل

        </button>
    </div>
                 </div>











                        <div class="book ipad" data-name="iphone" data-category="ipad">
    <div class="snk" data-name="ipad">
        <img src="img/ipad m3.webp" class="product-img" alt="ipad">

        <h3>📱 iPad Air 11″ (M3)</h3>
        <p>السعر: 549 JD</p>
   <button class="button" onclick="showProductDetails('📱 iPad Air 11″ (M3)', 'img/ipad m3.webp', {'256gb': 649, '128gb': 549}, ['256gb', '128gb'])">                    عرض التفاصيل

        </button>
    </div>
                 </div>


        </div>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <!-- Product Details Modal -->
        <div id="productDetailsModal" class="modal">
            <h2 id="productName"></h2>
            <img id="productImage" src="img/macbook_air_m3.webp" alt="Product Image" style="max-width: 250px;">

            <div class="storage-options" id="storageOptions">
                <!-- Storage options will be populated dynamically -->
            </div>

            <div class="product-counter">
                <button class="btn" onclick="changeQuantity(-1)">-</button>
                <span id="quantity">1</span>
                <button class="btn" onclick="changeQuantity(1)">+</button>
            </div>

            <p>السعر: <span id="productPrice"></span> JD</p>
            <button class="button" onclick="addToCart()">إضافة للسلة</button>
            <button class="button" onclick="closeModal('productDetailsModal')">إغلاق</button>
        </div>

        <!-- Cart Modal -->
        <div id="cartModal" class="modal">
            <h2>سلة التسوق</h2>
            <div id="cartItems"></div>
            <p>المجموع الكلي: <span id="cartTotal">0</span> JD</p>
            <button class="button" onclick="checkout()">إتمام الشراء</button>
            <button class="button" onclick="closeModal('cartModal')">إغلاق</button>
        </div>

        <button class="button1" onclick="openCart()">عرض السلة</button>
    </div>



<script>


    // دالة الفلترة لجميع المنتجات
function filterProducts(category) {
    const products = document.querySelectorAll('.book'); // تحديد كل المنتجات

    products.forEach(product => {
        // إذا كانت الفئة هي "الكل"، إعرض جميع المنتجات
        if (category === 'الكل') {
            product.style.display = 'block';
        } else {
            // تحقق من وجود الفئة في classList
            if (product.classList.contains(category)) {
                product.style.display = 'block'; // إذا كانت الفئة موجودة، عرض المنتج
            } else {
                product.style.display = 'none'; // إذا كانت الفئة غير موجودة، إخفاء المنتج
            }
        }
    });
}

// إضافة أحداث عند الضغط على الأزرار
document.querySelectorAll('.tag').forEach(button => {
    button.addEventListener('click', () => {
        const category = button.getAttribute('data-filter');
        filterProducts(category); // استدعاء الدالة مع الفئة المحددة
    });
});

    // هذه الدالة ستعمل على تصفية العناصر بناءً على الفئة
function filterProducts(category) {
    const products = document.querySelectorAll('.book');

    products.forEach(product => {
        // إذا كانت الفئة المطلوبة هي 'الكل'
        if (category === 'الكل') {
            product.style.display = 'block';
        } else {
            // التحقق إذا كانت الفئة موجودة في الـ class للمنتج
            if (product.classList.contains(category)) {
                product.style.display = 'block';
            } else {
                product.style.display = 'none';
            }
        }
    });
}



function filterProducts(category) {
    const products = document.querySelectorAll('.book');

    products.forEach(product => {
        if (category === 'الكل') {
            product.style.display = 'block';
        } else {
            // تحقق من وجود الفئة في المنتج
            if (product.classList.contains(category)) {
                product.style.display = 'block';
            } else {
                product.style.display = 'none';
            }
        }
    });
}

    // ربط الأزرار بالدالة
    const buttons = document.querySelectorAll('.tag');
    buttons.forEach(button => {
        button.addEventListener('click', () => {
            const filter = button.dataset.filter;
            filterProducts(filter);
        });
    });
</script>


    <script>







let selectedType = 'all';
let selectedTag = 'all';

function setMainCategory(type) {
  selectedType = type;
  filterProducts();
}

function setTag(tag) {
  selectedTag = tag;
  filterProducts();
}

function filterProducts() {
  const products = document.querySelectorAll('.product');

  products.forEach(product => {
    const productType = product.dataset.type;
    const productTags = product.dataset.tags?.split(' ') || [];

    const matchType = (selectedType === 'all' || productType === selectedType);
    const matchTag = (selectedTag === 'all' || productTags.includes(selectedTag));

    if (matchType && matchTag) {
      product.style.display = 'block';
    } else {
      product.style.display = 'none';
    }
  });
}
</script>

    <script>
// تحميل القيم من LocalStorage (أو افتراضي)
let totalRatings = localStorage.getItem('totalRatings') ? parseInt(localStorage.getItem('totalRatings')) : 10;
let totalScore = localStorage.getItem('totalScore') ? parseInt(localStorage.getItem('totalScore')) : 40;

// عرض النجوم
function displayStars(average) {
  const container = document.getElementById('average-rating-stars');
  container.innerHTML = '';

  for (let i = 1; i <= 5; i++) {
    const star = document.createElement('span');
    star.classList.add('star');
    if (i <= Math.round(average)) {
      star.classList.add('filled');
    }
    star.textContent = '★';
    container.appendChild(star);
  }
}

// تحديث الشاشة
function updateDisplay() {
  const average = totalScore / totalRatings;
  document.getElementById('average-rating-text').textContent = `${average.toFixed(1)} من 5 (${totalRatings} تقييم)`;
  displayStars(average);
}

// لما الزبون يقيم
function addRating(stars) {
  totalRatings++;
  totalScore += stars;

  // نحفظ القيم
  localStorage.setItem('totalRatings', totalRatings);
  localStorage.setItem('totalScore', totalScore);

  updateDisplay();
}

// أول عرض
updateDisplay();
</script>


    <script>
        // Application state
        let cart = [];
        let currentProduct = {};

        // Enhanced Modal Functions from First Document
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.style.display = 'block';

            // Add click event listener to close modal when clicking outside
            setTimeout(() => {
                function closeModalOnOutsideClick(event) {
                    if (event.target === modal) {
                        closeModal(modalId);
                        // Remove the event listener after closing
                        document.removeEventListener('click', closeModalOnOutsideClick);
                    }
                }

                document.addEventListener('click', closeModalOnOutsideClick);
            }, 0);
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Enhanced Confirmation Modal Function
        function showConfirmationModal(title, message, onConfirm) {
            // Create modal backdrop
            const backdrop = document.createElement('div');
            backdrop.classList.add('confirmation-backdrop');

            // Create modal container
            const modal = document.createElement('div');
            modal.classList.add('confirmation-modal');

            // Modal content
            modal.innerHTML = `
                <div class="confirmation-header">
                    <h3>${title}</h3>
                </div>
                <div class="confirmation-body">
                    <p>${message}</p>
                </div>
                <div class="confirmation-footer">
                    <button class="btn-cancel">إلغاء</button>
                    <button class="btn-confirm">تأكيد</button>
                </div>
            `;

            // Add to backdrop
            backdrop.appendChild(modal);
            document.body.appendChild(backdrop);

            // Close modal when clicking on backdrop
            backdrop.addEventListener('click', function(event) {
                if (event.target === backdrop) {
                    document.body.removeChild(backdrop);
                }
            });

            // Get buttons
            const cancelBtn = modal.querySelector('.btn-cancel');
            const confirmBtn = modal.querySelector('.btn-confirm');

            // Cancel button
            cancelBtn.onclick = () => {
                document.body.removeChild(backdrop);
            };

            // Confirm button
            confirmBtn.onclick = () => {
                onConfirm();
                document.body.removeChild(backdrop);
            };
        }

        // Custom Alert Function
        function showCustomAlert(message, type = 'success') {
            // Remove any existing custom alerts
            const existingAlerts = document.querySelectorAll('.custom-alert');
            existingAlerts.forEach(alert => alert.remove());

            // Create alert container
            const alertContainer = document.createElement('div');
            alertContainer.classList.add('custom-alert', `alert-${type}`);

            // Create alert content
            const alertContent = document.createElement('div');
            alertContent.classList.add('custom-alert-content');

            // Add icon based on alert type
            const alertIcon = document.createElement('div');
            alertIcon.classList.add('custom-alert-icon');

            switch(type) {
                case 'success':
                    alertIcon.innerHTML = '✓';
                    break;
                case 'error':
                    alertIcon.innerHTML = '!';
                    break;
                case 'warning':
                    alertIcon.innerHTML = '⚠️';
                    break;
                default:
                    alertIcon.innerHTML = 'ℹ️';
            }

            // Add message
            const alertMessage = document.createElement('p');
            alertMessage.textContent = message;

            // Assemble alert
            alertContent.appendChild(alertIcon);
            alertContent.appendChild(alertMessage);
            alertContainer.appendChild(alertContent);

            // Add close button
            const closeButton = document.createElement('span');
            closeButton.classList.add('custom-alert-close');
            closeButton.innerHTML = '×';
            closeButton.onclick = () => alertContainer.remove();
            alertContainer.appendChild(closeButton);

            // Add to body
            document.body.appendChild(alertContainer);

            // Add click event to close on outside click
            function closeAlertOnOutsideClick(event) {
                if (!alertContainer.contains(event.target)) {
                    alertContainer.remove();
                    document.removeEventListener('click', closeAlertOnOutsideClick);
                }
            }

            // Add event listener with a slight delay to prevent immediate closure
            setTimeout(() => {
                document.addEventListener('click', closeAlertOnOutsideClick);
            }, 0);

            // Automatically remove after 3 seconds
            setTimeout(() => {
                if (alertContainer.parentNode) {
                    alertContainer.classList.add('fade-out');
                    setTimeout(() => alertContainer.remove(), 500);
                }
            }, 3000);
        }

        // Existing Store Logic
        function filterProducts(category) {
            const products = document.querySelectorAll('.book');
            products.forEach(product => {
                if (category === 'الكل' || product.dataset.category === category) {
                    product.style.display = 'block';
                } else {
                    product.style.display = 'none';
                }
            });
        }
function showProductDetails(name, image, prices, types) {
  console.log(name); // اسم المنتج
  console.log(image); // صورة المنتج
  console.log(prices); // أسعار الأنواع
  console.log(types); // أنواع اللحوم (لحمة وجاج)

  // فرضاً المستخدم اختار "لحمة":
  const selectedType = 'لحمة';
  const selectedPrice = prices[selectedType]; // سيأخذ السعر الصحيح حسب النوع

  console.log('السعر المختار:', selectedPrice);
}

    function showProductDetails(name, image, prices, storageOptions) {
    const modal = document.getElementById('productDetailsModal');
    const productName = document.getElementById('productName');
    const productImage = document.getElementById('productImage');
    const storageOptionsContainer = document.getElementById('storageOptions');
    const priceElement = document.getElementById('productPrice');
    const quantityElement = document.getElementById('quantity');

    productName.textContent = name;
    productImage.src = image;
    quantityElement.textContent = '1';

    // Reset storage options
    storageOptionsContainer.innerHTML = '';
    storageOptions.forEach(option => {
        const optionElement = document.createElement('div');
        optionElement.classList.add('storage-option');
        optionElement.textContent = option;
        optionElement.onclick = () => {
            // Remove selected from all
            storageOptionsContainer.querySelectorAll('.storage-option').forEach(el =>
                el.classList.remove('selected')
            );
            optionElement.classList.add('selected');

            // Update price based on selected option
            const selectedOption = optionElement.textContent;
            const selectedPrice = prices[selectedOption] || 0;
            priceElement.textContent = selectedPrice.toFixed(2);

            // Update currentProduct
            currentProduct.selectedStorage = selectedOption;
            currentProduct.basePrice = selectedPrice;
        };
        storageOptionsContainer.appendChild(optionElement);
    });

    // First storage option selected by default
    if (storageOptions.length > 0) {
        storageOptionsContainer.firstChild.classList.add('selected');
        const firstOption = storageOptions[0];
        priceElement.textContent = (prices[firstOption] || 0).toFixed(2);
    }

    currentProduct = {
        name,
        basePrice: prices[storageOptions[0]] || 0,
        quantity: 1,
        selectedStorage: storageOptions[0]
    };

    openModal('productDetailsModal');
}


        function changeQuantity(change) {
            const quantityElement = document.getElementById('quantity');
            let currentQuantity = parseInt(quantityElement.textContent);

            currentQuantity = Math.max(1, currentQuantity + change);
            quantityElement.textContent = currentQuantity;

            currentProduct.quantity = currentQuantity;
        }

        function addToCart() {
            const storageOptions = document.getElementById('storageOptions');
            const selectedStorage = storageOptions.querySelector('.selected').textContent;

            const cartItem = {
                ...currentProduct,
                selectedStorage,
                totalPrice: currentProduct.basePrice * currentProduct.quantity
            };

            cart.push(cartItem);
            updateCart();
            closeModal('productDetailsModal');
            showCustomAlert('تمت الإضافة للسلة بنجاح', 'success');
        }

        function updateCart() {
            const cartItemsContainer = document.getElementById('cartItems');
            const cartTotalElement = document.getElementById('cartTotal');

            cartItemsContainer.innerHTML = '';
            const totalAmount = cart.reduce((sum, item) => {
                const itemElement = document.createElement('div');
                itemElement.classList.add('cart-item');
                itemElement.innerHTML = `
                    <span>${item.name} (${item.selectedStorage}) × ${item.quantity}</span>
                    <span>${item.totalPrice.toFixed(2)} JD</span>
                    <span class="delete-item" onclick="removeFromCart(${cart.indexOf(item)})">×</span>
                `;
                cartItemsContainer.appendChild(itemElement);
                return sum + item.totalPrice;
            }, 0);

            cartTotalElement.textContent = totalAmount.toFixed(2);
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
            showCustomAlert('تم إزالة المنتج من السلة', 'warning');
        }

        function openCart() {
            updateCart();
            openModal('cartModal');
        }

        function checkout() {
            if (cart.length === 0) {
                showCustomAlert('السلة فارغة', 'warning');
                return;
            }

            const orderDetails = cart.map(item =>
                `${item.name} (${item.selectedStorage}) × ${item.quantity}: ${item.totalPrice.toFixed(2)} JD`
            ).join('\n');

            const totalAmount = cart.reduce((sum, item) => sum + item.totalPrice, 0);

            showConfirmationModal(
                'تأكيد الطلب',
                `تفاصيل الطلب:\n${orderDetails}\n\nالمجموع الكلي: ${totalAmount.toFixed(2)} JD`,
                () => {
                    showCustomAlert('شكراً لشرائك! سيتم معالجة الطلب قريباً.', 'success');
                    cart = [];
                    updateCart();
                    closeModal('cartModal');
                }
            );
        }
    </script>
</body>
</html>